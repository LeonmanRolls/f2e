<!doctype html>

<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto:500" rel="stylesheet">
  <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
  <link rel=stylesheet type="text/css" href="week1.css">
  <title>
    Week 1
  </title>
</head>

<body>
  <!-- demo: https://hexschool.github.io/THE_F2E_Design/todolist/#artboard4 -->
  <header>
    <div class="wrapper">
      <div class="header-inner">
        <div class="page1">My Tasks</div>
        <div class="page2">In Progress</div>
        <div class="page3">Completed</div>
      </div>
    </div>
  </header>
  <div class="content">
    <div class="wrapper">
      <input class="addTask" placeholder="ï¼‹   Add Task">
    </div>
    <div id="tasksContainer" class="wrapper tasks">
      <!-- <div class="task">
        <div class="firstLine">
          <div class="checkbox"></div>
          <div class="task-text">Leon teach Sunny programming</div>
          <div class="buttons">
            <div class="icon-star">
              <i class="fas fa-star"></i>
            </div>
            <div class="icon-pen">
              <i class="fas fa-pencil-alt"></i>
            </div>
          </div>
        </div>
        <div class="secondLine">
          <div class="icon-calender">
            <i class="fas fa-calendar-alt"></i>
          </div>
          <div class="date">5/20</div>
          <div class="icon-file">
            <i class="far fa-file"></i>
          </div>
          <div class="icon-comment">
            <i class="fas fa-comment"></i>
          </div>
        </div>
      </div> -->
      <!-- <div class="task">
        <div class="firstLine">
          <div class="checkbox"></div>
        </div>
      </div> -->
    </div>
  </div>
  <script type="text/babel">

    const appState = {
      todoListItems: [
        {
          content: 'List item one',
        },
        {
          content: 'List item two',
        },
      ]
    };

    const todoListItemMold = (content) => {
      return (`
        <div class="task">
          <div class="firstLine">
            <div class="checkbox"></div>
            <div class="task-text">${content}</div>
            <div class="buttons">
              <div class="icon-star">
                <i class="fas fa-star"></i>
              </div>
              <div class="icon-pen">
                <i class="fas fa-pencil-alt"></i>
              </div>
            </div>
          </div>
          <div class="secondLine">
            <div class="icon-calender">
              <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="date">5/20</div>
            <div class="icon-file">
              <i class="far fa-file"></i>
            </div>
            <div class="icon-comment">
              <i class="fas fa-comment"></i>
            </div>
          </div>
        </div>
      `);
    }

    $( document ).ready(function() {
      for (let i = 0; i < appState.todoListItems.length; i++) {
        const currentContent = appState.todoListItems[i].content;
        $( "#tasksContainer" ).append(todoListItemMold(currentContent));
      }

      $('.addTask').keydown(function(e) {
        if(e.which == 13) {

          const newTodolistItem = {
            content: $('.addTask').val(),
          };
          appState.todoListItems.push(newTodolistItem);

          //appState.todoListItems[2].content = 'new content';

          $( "#tasksContainer" ).empty();
          for (let i = 0; i < appState.todoListItems.length; i++) {
            const currentContent = appState.todoListItems[i].content;
            $( "#tasksContainer" ).append(todoListItemMold(currentContent));
          }

        }
      });
    });

    

  </script>
</body>

</html>